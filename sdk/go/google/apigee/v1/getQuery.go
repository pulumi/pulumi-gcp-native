// *** WARNING: this file was generated by the Pulumi SDK Generator. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package v1

import (
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Get query status If the query is still in progress, the `state` is set to "running" After the query has completed successfully, `state` is set to "completed"
func LookupQuery(ctx *pulumi.Context, args *LookupQueryArgs, opts ...pulumi.InvokeOption) (*LookupQueryResult, error) {
	var rv LookupQueryResult
	err := ctx.Invoke("google-native:apigee/v1:getQuery", args, &rv, opts...)
	if err != nil {
		return nil, err
	}
	return &rv, nil
}

type LookupQueryArgs struct {
	EnvironmentId  string `pulumi:"environmentId"`
	OrganizationId string `pulumi:"organizationId"`
	QueryId        string `pulumi:"queryId"`
}

type LookupQueryResult struct {
	// Creation time of the query.
	Created string `pulumi:"created"`
	// Hostname is available only when query is executed at host level.
	EnvgroupHostname string `pulumi:"envgroupHostname"`
	// Error is set when query fails.
	Error string `pulumi:"error"`
	// ExecutionTime is available only after the query is completed.
	ExecutionTime string `pulumi:"executionTime"`
	// Asynchronous Query Name.
	Name string `pulumi:"name"`
	// Contains information like metrics, dimenstions etc of the AsyncQuery.
	QueryParams GoogleCloudApigeeV1QueryMetadataResponse `pulumi:"queryParams"`
	// Asynchronous Report ID.
	ReportDefinitionId string `pulumi:"reportDefinitionId"`
	// Result is available only after the query is completed.
	Result GoogleCloudApigeeV1AsyncQueryResultResponse `pulumi:"result"`
	// ResultFileSize is available only after the query is completed.
	ResultFileSize string `pulumi:"resultFileSize"`
	// ResultRows is available only after the query is completed.
	ResultRows string `pulumi:"resultRows"`
	// Self link of the query. Example: `/organizations/myorg/environments/myenv/queries/9cfc0d85-0f30-46d6-ae6f-318d0cb961bd` or following format if query is running at host level: `/organizations/myorg/hostQueries/9cfc0d85-0f30-46d6-ae6f-318d0cb961bd`
	Self string `pulumi:"self"`
	// Query state could be "enqueued", "running", "completed", "failed".
	State string `pulumi:"state"`
	// Last updated timestamp for the query.
	Updated string `pulumi:"updated"`
}
