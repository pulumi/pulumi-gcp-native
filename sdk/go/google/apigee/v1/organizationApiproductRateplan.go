// *** WARNING: this file was generated by the Pulumi SDK Generator. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package v1

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Create a rate plan that is associated with an API product in an organization. Using rate plans, API product owners can monetize their API products by configuring one or more of the following: - Billing frequency - Initial setup fees for using an API product - Payment funding model (postpaid only) - Fixed recurring or consumption-based charges for using an API product - Revenue sharing with developer partners An API product can have multiple rate plans associated with it but *only one* rate plan can be active at any point of time. **Note: From the developer's perspective, they purchase API products not rate plans.
type OrganizationApiproductRateplan struct {
	pulumi.CustomResourceState

	// Name of the API product that the rate plan is associated with.
	Apiproduct pulumi.StringOutput `pulumi:"apiproduct"`
	// Frequency at which the customer will be billed.
	BillingPeriod pulumi.StringOutput `pulumi:"billingPeriod"`
	// API call volume ranges and the fees charged when the total number of API calls is within a given range. The method used to calculate the final fee depends on the selected pricing model. For example, if the pricing model is `STAIRSTEP` and the ranges are defined as follows: ```{ "start": 1, "end": 100, "fee": 75 }, { "start": 101, "end": 200, "fee": 100 }, }``` Then the following fees would be charged based on the total number of API calls (assuming the currency selected is `USD`): * 1 call costs $75 * 50 calls cost $75 * 150 calls cost $100 The number of API calls cannot exceed 200.
	ConsumptionPricingRates GoogleCloudApigeeV1RateRangeResponseArrayOutput `pulumi:"consumptionPricingRates"`
	// Pricing model used for consumption-based charges.
	ConsumptionPricingType pulumi.StringOutput `pulumi:"consumptionPricingType"`
	// Time that the rate plan was created in milliseconds since epoch.
	CreatedAt pulumi.StringOutput `pulumi:"createdAt"`
	// Currency to be used for billing. Consists of a three-letter code as defined by the [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) standard.
	CurrencyCode pulumi.StringOutput `pulumi:"currencyCode"`
	// Description of the rate plan.
	Description pulumi.StringOutput `pulumi:"description"`
	// Display name of the rate plan.
	DisplayName pulumi.StringOutput `pulumi:"displayName"`
	// Time when the rate plan will expire in milliseconds since epoch. Set to 0 or `null` to indicate that the rate plan should never expire.
	EndTime pulumi.StringOutput `pulumi:"endTime"`
	// Frequency at which the fixed fee is charged.
	FixedFeeFrequency pulumi.IntOutput `pulumi:"fixedFeeFrequency"`
	// Fixed amount that is charged at a defined interval and billed in advance of use of the API product. The fee will be prorated for the first billing period.
	FixedRecurringFee GoogleTypeMoneyResponseOutput `pulumi:"fixedRecurringFee"`
	// Time the rate plan was last modified in milliseconds since epoch.
	LastModifiedAt pulumi.StringOutput `pulumi:"lastModifiedAt"`
	// Name of the rate plan.
	Name pulumi.StringOutput `pulumi:"name"`
	// Flag that specifies the billing account type, prepaid or postpaid.
	PaymentFundingModel pulumi.StringOutput `pulumi:"paymentFundingModel"`
	// Details of the revenue sharing model.
	RevenueShareRates GoogleCloudApigeeV1RevenueShareRangeResponseArrayOutput `pulumi:"revenueShareRates"`
	// Method used to calculate the revenue that is shared with developers.
	RevenueShareType pulumi.StringOutput `pulumi:"revenueShareType"`
	// Initial, one-time fee paid when purchasing the API product.
	SetupFee GoogleTypeMoneyResponseOutput `pulumi:"setupFee"`
	// Time when the rate plan becomes active in milliseconds since epoch.
	StartTime pulumi.StringOutput `pulumi:"startTime"`
	// Current state of the rate plan (draft or published).
	State pulumi.StringOutput `pulumi:"state"`
}

// NewOrganizationApiproductRateplan registers a new resource with the given unique name, arguments, and options.
func NewOrganizationApiproductRateplan(ctx *pulumi.Context,
	name string, args *OrganizationApiproductRateplanArgs, opts ...pulumi.ResourceOption) (*OrganizationApiproductRateplan, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.ApiproductsId == nil {
		return nil, errors.New("invalid value for required argument 'ApiproductsId'")
	}
	if args.OrganizationsId == nil {
		return nil, errors.New("invalid value for required argument 'OrganizationsId'")
	}
	if args.RateplansId == nil {
		return nil, errors.New("invalid value for required argument 'RateplansId'")
	}
	var resource OrganizationApiproductRateplan
	err := ctx.RegisterResource("google-native:apigee/v1:OrganizationApiproductRateplan", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetOrganizationApiproductRateplan gets an existing OrganizationApiproductRateplan resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetOrganizationApiproductRateplan(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *OrganizationApiproductRateplanState, opts ...pulumi.ResourceOption) (*OrganizationApiproductRateplan, error) {
	var resource OrganizationApiproductRateplan
	err := ctx.ReadResource("google-native:apigee/v1:OrganizationApiproductRateplan", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering OrganizationApiproductRateplan resources.
type organizationApiproductRateplanState struct {
	// Name of the API product that the rate plan is associated with.
	Apiproduct *string `pulumi:"apiproduct"`
	// Frequency at which the customer will be billed.
	BillingPeriod *string `pulumi:"billingPeriod"`
	// API call volume ranges and the fees charged when the total number of API calls is within a given range. The method used to calculate the final fee depends on the selected pricing model. For example, if the pricing model is `STAIRSTEP` and the ranges are defined as follows: ```{ "start": 1, "end": 100, "fee": 75 }, { "start": 101, "end": 200, "fee": 100 }, }``` Then the following fees would be charged based on the total number of API calls (assuming the currency selected is `USD`): * 1 call costs $75 * 50 calls cost $75 * 150 calls cost $100 The number of API calls cannot exceed 200.
	ConsumptionPricingRates []GoogleCloudApigeeV1RateRangeResponse `pulumi:"consumptionPricingRates"`
	// Pricing model used for consumption-based charges.
	ConsumptionPricingType *string `pulumi:"consumptionPricingType"`
	// Time that the rate plan was created in milliseconds since epoch.
	CreatedAt *string `pulumi:"createdAt"`
	// Currency to be used for billing. Consists of a three-letter code as defined by the [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) standard.
	CurrencyCode *string `pulumi:"currencyCode"`
	// Description of the rate plan.
	Description *string `pulumi:"description"`
	// Display name of the rate plan.
	DisplayName *string `pulumi:"displayName"`
	// Time when the rate plan will expire in milliseconds since epoch. Set to 0 or `null` to indicate that the rate plan should never expire.
	EndTime *string `pulumi:"endTime"`
	// Frequency at which the fixed fee is charged.
	FixedFeeFrequency *int `pulumi:"fixedFeeFrequency"`
	// Fixed amount that is charged at a defined interval and billed in advance of use of the API product. The fee will be prorated for the first billing period.
	FixedRecurringFee *GoogleTypeMoneyResponse `pulumi:"fixedRecurringFee"`
	// Time the rate plan was last modified in milliseconds since epoch.
	LastModifiedAt *string `pulumi:"lastModifiedAt"`
	// Name of the rate plan.
	Name *string `pulumi:"name"`
	// Flag that specifies the billing account type, prepaid or postpaid.
	PaymentFundingModel *string `pulumi:"paymentFundingModel"`
	// Details of the revenue sharing model.
	RevenueShareRates []GoogleCloudApigeeV1RevenueShareRangeResponse `pulumi:"revenueShareRates"`
	// Method used to calculate the revenue that is shared with developers.
	RevenueShareType *string `pulumi:"revenueShareType"`
	// Initial, one-time fee paid when purchasing the API product.
	SetupFee *GoogleTypeMoneyResponse `pulumi:"setupFee"`
	// Time when the rate plan becomes active in milliseconds since epoch.
	StartTime *string `pulumi:"startTime"`
	// Current state of the rate plan (draft or published).
	State *string `pulumi:"state"`
}

type OrganizationApiproductRateplanState struct {
	// Name of the API product that the rate plan is associated with.
	Apiproduct pulumi.StringPtrInput
	// Frequency at which the customer will be billed.
	BillingPeriod pulumi.StringPtrInput
	// API call volume ranges and the fees charged when the total number of API calls is within a given range. The method used to calculate the final fee depends on the selected pricing model. For example, if the pricing model is `STAIRSTEP` and the ranges are defined as follows: ```{ "start": 1, "end": 100, "fee": 75 }, { "start": 101, "end": 200, "fee": 100 }, }``` Then the following fees would be charged based on the total number of API calls (assuming the currency selected is `USD`): * 1 call costs $75 * 50 calls cost $75 * 150 calls cost $100 The number of API calls cannot exceed 200.
	ConsumptionPricingRates GoogleCloudApigeeV1RateRangeResponseArrayInput
	// Pricing model used for consumption-based charges.
	ConsumptionPricingType pulumi.StringPtrInput
	// Time that the rate plan was created in milliseconds since epoch.
	CreatedAt pulumi.StringPtrInput
	// Currency to be used for billing. Consists of a three-letter code as defined by the [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) standard.
	CurrencyCode pulumi.StringPtrInput
	// Description of the rate plan.
	Description pulumi.StringPtrInput
	// Display name of the rate plan.
	DisplayName pulumi.StringPtrInput
	// Time when the rate plan will expire in milliseconds since epoch. Set to 0 or `null` to indicate that the rate plan should never expire.
	EndTime pulumi.StringPtrInput
	// Frequency at which the fixed fee is charged.
	FixedFeeFrequency pulumi.IntPtrInput
	// Fixed amount that is charged at a defined interval and billed in advance of use of the API product. The fee will be prorated for the first billing period.
	FixedRecurringFee GoogleTypeMoneyResponsePtrInput
	// Time the rate plan was last modified in milliseconds since epoch.
	LastModifiedAt pulumi.StringPtrInput
	// Name of the rate plan.
	Name pulumi.StringPtrInput
	// Flag that specifies the billing account type, prepaid or postpaid.
	PaymentFundingModel pulumi.StringPtrInput
	// Details of the revenue sharing model.
	RevenueShareRates GoogleCloudApigeeV1RevenueShareRangeResponseArrayInput
	// Method used to calculate the revenue that is shared with developers.
	RevenueShareType pulumi.StringPtrInput
	// Initial, one-time fee paid when purchasing the API product.
	SetupFee GoogleTypeMoneyResponsePtrInput
	// Time when the rate plan becomes active in milliseconds since epoch.
	StartTime pulumi.StringPtrInput
	// Current state of the rate plan (draft or published).
	State pulumi.StringPtrInput
}

func (OrganizationApiproductRateplanState) ElementType() reflect.Type {
	return reflect.TypeOf((*organizationApiproductRateplanState)(nil)).Elem()
}

type organizationApiproductRateplanArgs struct {
	// Name of the API product that the rate plan is associated with.
	Apiproduct    *string `pulumi:"apiproduct"`
	ApiproductsId string  `pulumi:"apiproductsId"`
	// Frequency at which the customer will be billed.
	BillingPeriod *string `pulumi:"billingPeriod"`
	// API call volume ranges and the fees charged when the total number of API calls is within a given range. The method used to calculate the final fee depends on the selected pricing model. For example, if the pricing model is `STAIRSTEP` and the ranges are defined as follows: ```{ "start": 1, "end": 100, "fee": 75 }, { "start": 101, "end": 200, "fee": 100 }, }``` Then the following fees would be charged based on the total number of API calls (assuming the currency selected is `USD`): * 1 call costs $75 * 50 calls cost $75 * 150 calls cost $100 The number of API calls cannot exceed 200.
	ConsumptionPricingRates []GoogleCloudApigeeV1RateRange `pulumi:"consumptionPricingRates"`
	// Pricing model used for consumption-based charges.
	ConsumptionPricingType *string `pulumi:"consumptionPricingType"`
	// Currency to be used for billing. Consists of a three-letter code as defined by the [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) standard.
	CurrencyCode *string `pulumi:"currencyCode"`
	// Description of the rate plan.
	Description *string `pulumi:"description"`
	// Display name of the rate plan.
	DisplayName *string `pulumi:"displayName"`
	// Time when the rate plan will expire in milliseconds since epoch. Set to 0 or `null` to indicate that the rate plan should never expire.
	EndTime *string `pulumi:"endTime"`
	// Frequency at which the fixed fee is charged.
	FixedFeeFrequency *int `pulumi:"fixedFeeFrequency"`
	// Fixed amount that is charged at a defined interval and billed in advance of use of the API product. The fee will be prorated for the first billing period.
	FixedRecurringFee *GoogleTypeMoney `pulumi:"fixedRecurringFee"`
	OrganizationsId   string           `pulumi:"organizationsId"`
	// Flag that specifies the billing account type, prepaid or postpaid.
	PaymentFundingModel *string `pulumi:"paymentFundingModel"`
	RateplansId         string  `pulumi:"rateplansId"`
	// Details of the revenue sharing model.
	RevenueShareRates []GoogleCloudApigeeV1RevenueShareRange `pulumi:"revenueShareRates"`
	// Method used to calculate the revenue that is shared with developers.
	RevenueShareType *string `pulumi:"revenueShareType"`
	// Initial, one-time fee paid when purchasing the API product.
	SetupFee *GoogleTypeMoney `pulumi:"setupFee"`
	// Time when the rate plan becomes active in milliseconds since epoch.
	StartTime *string `pulumi:"startTime"`
	// Current state of the rate plan (draft or published).
	State *string `pulumi:"state"`
}

// The set of arguments for constructing a OrganizationApiproductRateplan resource.
type OrganizationApiproductRateplanArgs struct {
	// Name of the API product that the rate plan is associated with.
	Apiproduct    pulumi.StringPtrInput
	ApiproductsId pulumi.StringInput
	// Frequency at which the customer will be billed.
	BillingPeriod pulumi.StringPtrInput
	// API call volume ranges and the fees charged when the total number of API calls is within a given range. The method used to calculate the final fee depends on the selected pricing model. For example, if the pricing model is `STAIRSTEP` and the ranges are defined as follows: ```{ "start": 1, "end": 100, "fee": 75 }, { "start": 101, "end": 200, "fee": 100 }, }``` Then the following fees would be charged based on the total number of API calls (assuming the currency selected is `USD`): * 1 call costs $75 * 50 calls cost $75 * 150 calls cost $100 The number of API calls cannot exceed 200.
	ConsumptionPricingRates GoogleCloudApigeeV1RateRangeArrayInput
	// Pricing model used for consumption-based charges.
	ConsumptionPricingType pulumi.StringPtrInput
	// Currency to be used for billing. Consists of a three-letter code as defined by the [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) standard.
	CurrencyCode pulumi.StringPtrInput
	// Description of the rate plan.
	Description pulumi.StringPtrInput
	// Display name of the rate plan.
	DisplayName pulumi.StringPtrInput
	// Time when the rate plan will expire in milliseconds since epoch. Set to 0 or `null` to indicate that the rate plan should never expire.
	EndTime pulumi.StringPtrInput
	// Frequency at which the fixed fee is charged.
	FixedFeeFrequency pulumi.IntPtrInput
	// Fixed amount that is charged at a defined interval and billed in advance of use of the API product. The fee will be prorated for the first billing period.
	FixedRecurringFee GoogleTypeMoneyPtrInput
	OrganizationsId   pulumi.StringInput
	// Flag that specifies the billing account type, prepaid or postpaid.
	PaymentFundingModel pulumi.StringPtrInput
	RateplansId         pulumi.StringInput
	// Details of the revenue sharing model.
	RevenueShareRates GoogleCloudApigeeV1RevenueShareRangeArrayInput
	// Method used to calculate the revenue that is shared with developers.
	RevenueShareType pulumi.StringPtrInput
	// Initial, one-time fee paid when purchasing the API product.
	SetupFee GoogleTypeMoneyPtrInput
	// Time when the rate plan becomes active in milliseconds since epoch.
	StartTime pulumi.StringPtrInput
	// Current state of the rate plan (draft or published).
	State pulumi.StringPtrInput
}

func (OrganizationApiproductRateplanArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*organizationApiproductRateplanArgs)(nil)).Elem()
}

type OrganizationApiproductRateplanInput interface {
	pulumi.Input

	ToOrganizationApiproductRateplanOutput() OrganizationApiproductRateplanOutput
	ToOrganizationApiproductRateplanOutputWithContext(ctx context.Context) OrganizationApiproductRateplanOutput
}

func (*OrganizationApiproductRateplan) ElementType() reflect.Type {
	return reflect.TypeOf((*OrganizationApiproductRateplan)(nil))
}

func (i *OrganizationApiproductRateplan) ToOrganizationApiproductRateplanOutput() OrganizationApiproductRateplanOutput {
	return i.ToOrganizationApiproductRateplanOutputWithContext(context.Background())
}

func (i *OrganizationApiproductRateplan) ToOrganizationApiproductRateplanOutputWithContext(ctx context.Context) OrganizationApiproductRateplanOutput {
	return pulumi.ToOutputWithContext(ctx, i).(OrganizationApiproductRateplanOutput)
}

type OrganizationApiproductRateplanOutput struct {
	*pulumi.OutputState
}

func (OrganizationApiproductRateplanOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*OrganizationApiproductRateplan)(nil))
}

func (o OrganizationApiproductRateplanOutput) ToOrganizationApiproductRateplanOutput() OrganizationApiproductRateplanOutput {
	return o
}

func (o OrganizationApiproductRateplanOutput) ToOrganizationApiproductRateplanOutputWithContext(ctx context.Context) OrganizationApiproductRateplanOutput {
	return o
}

func init() {
	pulumi.RegisterOutputType(OrganizationApiproductRateplanOutput{})
}
