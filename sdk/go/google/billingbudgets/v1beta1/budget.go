// Code generated by the Pulumi SDK Generator DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package v1beta1

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Creates a new budget. See [Quotas and limits](https://cloud.google.com/billing/quotas) for more information on the limits of the number of budgets you can create.
// Auto-naming is currently not supported for this resource.
type Budget struct {
	pulumi.CustomResourceState

	// Optional. Rules to apply to notifications sent based on budget spend and thresholds.
	AllUpdatesRule GoogleCloudBillingBudgetsV1beta1AllUpdatesRuleResponseOutput `pulumi:"allUpdatesRule"`
	// Budgeted amount.
	Amount           GoogleCloudBillingBudgetsV1beta1BudgetAmountResponseOutput `pulumi:"amount"`
	BillingAccountId pulumi.StringOutput                                        `pulumi:"billingAccountId"`
	// Optional. Filters that define which resources are used to compute the actual spend against the budget amount, such as projects, services, and the budget's time period, as well as other filters.
	BudgetFilter GoogleCloudBillingBudgetsV1beta1FilterResponseOutput `pulumi:"budgetFilter"`
	// User data for display name in UI. Validation: <= 60 chars.
	DisplayName pulumi.StringOutput `pulumi:"displayName"`
	// Optional. Etag to validate that the object is unchanged for a read-modify-write operation. An empty etag will cause an update to overwrite other changes.
	Etag pulumi.StringOutput `pulumi:"etag"`
	// Resource name of the budget. The resource name implies the scope of a budget. Values are of the form `billingAccounts/{billingAccountId}/budgets/{budgetId}`.
	Name pulumi.StringOutput `pulumi:"name"`
	// Optional. Rules that trigger alerts (notifications of thresholds being crossed) when spend exceeds the specified percentages of the budget. Optional for `pubsubTopic` notifications. Required if using email notifications.
	ThresholdRules GoogleCloudBillingBudgetsV1beta1ThresholdRuleResponseArrayOutput `pulumi:"thresholdRules"`
}

// NewBudget registers a new resource with the given unique name, arguments, and options.
func NewBudget(ctx *pulumi.Context,
	name string, args *BudgetArgs, opts ...pulumi.ResourceOption) (*Budget, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Amount == nil {
		return nil, errors.New("invalid value for required argument 'Amount'")
	}
	if args.BillingAccountId == nil {
		return nil, errors.New("invalid value for required argument 'BillingAccountId'")
	}
	replaceOnChanges := pulumi.ReplaceOnChanges([]string{
		"billingAccountId",
	})
	opts = append(opts, replaceOnChanges)
	var resource Budget
	err := ctx.RegisterResource("google-native:billingbudgets/v1beta1:Budget", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetBudget gets an existing Budget resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetBudget(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *BudgetState, opts ...pulumi.ResourceOption) (*Budget, error) {
	var resource Budget
	err := ctx.ReadResource("google-native:billingbudgets/v1beta1:Budget", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Budget resources.
type budgetState struct {
}

type BudgetState struct {
}

func (BudgetState) ElementType() reflect.Type {
	return reflect.TypeOf((*budgetState)(nil)).Elem()
}

type budgetArgs struct {
	// Optional. Rules to apply to notifications sent based on budget spend and thresholds.
	AllUpdatesRule *GoogleCloudBillingBudgetsV1beta1AllUpdatesRule `pulumi:"allUpdatesRule"`
	// Budgeted amount.
	Amount           GoogleCloudBillingBudgetsV1beta1BudgetAmount `pulumi:"amount"`
	BillingAccountId string                                       `pulumi:"billingAccountId"`
	// Optional. Filters that define which resources are used to compute the actual spend against the budget amount, such as projects, services, and the budget's time period, as well as other filters.
	BudgetFilter *GoogleCloudBillingBudgetsV1beta1Filter `pulumi:"budgetFilter"`
	// User data for display name in UI. Validation: <= 60 chars.
	DisplayName *string `pulumi:"displayName"`
	// Optional. Etag to validate that the object is unchanged for a read-modify-write operation. An empty etag will cause an update to overwrite other changes.
	Etag *string `pulumi:"etag"`
	// Optional. Rules that trigger alerts (notifications of thresholds being crossed) when spend exceeds the specified percentages of the budget. Optional for `pubsubTopic` notifications. Required if using email notifications.
	ThresholdRules []GoogleCloudBillingBudgetsV1beta1ThresholdRule `pulumi:"thresholdRules"`
}

// The set of arguments for constructing a Budget resource.
type BudgetArgs struct {
	// Optional. Rules to apply to notifications sent based on budget spend and thresholds.
	AllUpdatesRule GoogleCloudBillingBudgetsV1beta1AllUpdatesRulePtrInput
	// Budgeted amount.
	Amount           GoogleCloudBillingBudgetsV1beta1BudgetAmountInput
	BillingAccountId pulumi.StringInput
	// Optional. Filters that define which resources are used to compute the actual spend against the budget amount, such as projects, services, and the budget's time period, as well as other filters.
	BudgetFilter GoogleCloudBillingBudgetsV1beta1FilterPtrInput
	// User data for display name in UI. Validation: <= 60 chars.
	DisplayName pulumi.StringPtrInput
	// Optional. Etag to validate that the object is unchanged for a read-modify-write operation. An empty etag will cause an update to overwrite other changes.
	Etag pulumi.StringPtrInput
	// Optional. Rules that trigger alerts (notifications of thresholds being crossed) when spend exceeds the specified percentages of the budget. Optional for `pubsubTopic` notifications. Required if using email notifications.
	ThresholdRules GoogleCloudBillingBudgetsV1beta1ThresholdRuleArrayInput
}

func (BudgetArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*budgetArgs)(nil)).Elem()
}

type BudgetInput interface {
	pulumi.Input

	ToBudgetOutput() BudgetOutput
	ToBudgetOutputWithContext(ctx context.Context) BudgetOutput
}

func (*Budget) ElementType() reflect.Type {
	return reflect.TypeOf((**Budget)(nil)).Elem()
}

func (i *Budget) ToBudgetOutput() BudgetOutput {
	return i.ToBudgetOutputWithContext(context.Background())
}

func (i *Budget) ToBudgetOutputWithContext(ctx context.Context) BudgetOutput {
	return pulumi.ToOutputWithContext(ctx, i).(BudgetOutput)
}

type BudgetOutput struct{ *pulumi.OutputState }

func (BudgetOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**Budget)(nil)).Elem()
}

func (o BudgetOutput) ToBudgetOutput() BudgetOutput {
	return o
}

func (o BudgetOutput) ToBudgetOutputWithContext(ctx context.Context) BudgetOutput {
	return o
}

// Optional. Rules to apply to notifications sent based on budget spend and thresholds.
func (o BudgetOutput) AllUpdatesRule() GoogleCloudBillingBudgetsV1beta1AllUpdatesRuleResponseOutput {
	return o.ApplyT(func(v *Budget) GoogleCloudBillingBudgetsV1beta1AllUpdatesRuleResponseOutput { return v.AllUpdatesRule }).(GoogleCloudBillingBudgetsV1beta1AllUpdatesRuleResponseOutput)
}

// Budgeted amount.
func (o BudgetOutput) Amount() GoogleCloudBillingBudgetsV1beta1BudgetAmountResponseOutput {
	return o.ApplyT(func(v *Budget) GoogleCloudBillingBudgetsV1beta1BudgetAmountResponseOutput { return v.Amount }).(GoogleCloudBillingBudgetsV1beta1BudgetAmountResponseOutput)
}

func (o BudgetOutput) BillingAccountId() pulumi.StringOutput {
	return o.ApplyT(func(v *Budget) pulumi.StringOutput { return v.BillingAccountId }).(pulumi.StringOutput)
}

// Optional. Filters that define which resources are used to compute the actual spend against the budget amount, such as projects, services, and the budget's time period, as well as other filters.
func (o BudgetOutput) BudgetFilter() GoogleCloudBillingBudgetsV1beta1FilterResponseOutput {
	return o.ApplyT(func(v *Budget) GoogleCloudBillingBudgetsV1beta1FilterResponseOutput { return v.BudgetFilter }).(GoogleCloudBillingBudgetsV1beta1FilterResponseOutput)
}

// User data for display name in UI. Validation: <= 60 chars.
func (o BudgetOutput) DisplayName() pulumi.StringOutput {
	return o.ApplyT(func(v *Budget) pulumi.StringOutput { return v.DisplayName }).(pulumi.StringOutput)
}

// Optional. Etag to validate that the object is unchanged for a read-modify-write operation. An empty etag will cause an update to overwrite other changes.
func (o BudgetOutput) Etag() pulumi.StringOutput {
	return o.ApplyT(func(v *Budget) pulumi.StringOutput { return v.Etag }).(pulumi.StringOutput)
}

// Resource name of the budget. The resource name implies the scope of a budget. Values are of the form `billingAccounts/{billingAccountId}/budgets/{budgetId}`.
func (o BudgetOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *Budget) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// Optional. Rules that trigger alerts (notifications of thresholds being crossed) when spend exceeds the specified percentages of the budget. Optional for `pubsubTopic` notifications. Required if using email notifications.
func (o BudgetOutput) ThresholdRules() GoogleCloudBillingBudgetsV1beta1ThresholdRuleResponseArrayOutput {
	return o.ApplyT(func(v *Budget) GoogleCloudBillingBudgetsV1beta1ThresholdRuleResponseArrayOutput {
		return v.ThresholdRules
	}).(GoogleCloudBillingBudgetsV1beta1ThresholdRuleResponseArrayOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*BudgetInput)(nil)).Elem(), &Budget{})
	pulumi.RegisterOutputType(BudgetOutput{})
}
