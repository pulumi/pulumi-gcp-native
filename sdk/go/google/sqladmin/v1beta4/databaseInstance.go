// *** WARNING: this file was generated by the Pulumi SDK Generator. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package v1beta4

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v2/go/pulumi"
)

// Creates a new Cloud SQL instance.
type DatabaseInstance struct {
	pulumi.CustomResourceState
}

// NewDatabaseInstance registers a new resource with the given unique name, arguments, and options.
func NewDatabaseInstance(ctx *pulumi.Context,
	name string, args *DatabaseInstanceArgs, opts ...pulumi.ResourceOption) (*DatabaseInstance, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Project == nil {
		return nil, errors.New("invalid value for required argument 'Project'")
	}
	var resource DatabaseInstance
	err := ctx.RegisterResource("google-cloud:sqladmin/v1beta4:DatabaseInstance", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetDatabaseInstance gets an existing DatabaseInstance resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetDatabaseInstance(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *DatabaseInstanceState, opts ...pulumi.ResourceOption) (*DatabaseInstance, error) {
	var resource DatabaseInstance
	err := ctx.ReadResource("google-cloud:sqladmin/v1beta4:DatabaseInstance", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering DatabaseInstance resources.
type databaseInstanceState struct {
}

type DatabaseInstanceState struct {
}

func (DatabaseInstanceState) ElementType() reflect.Type {
	return reflect.TypeOf((*databaseInstanceState)(nil)).Elem()
}

type databaseInstanceArgs struct {
	//  *SECOND_GEN*: Cloud SQL database instance. *EXTERNAL*: A database server that is not managed by Google. This property is read-only; use the *tier* property in the *settings* object to determine the database type.
	BackendType *string `pulumi:"backendType"`
	// Connection name of the Cloud SQL instance used in connection strings.
	ConnectionName *string `pulumi:"connectionName"`
	// The current disk usage of the instance in bytes. This property has been deprecated. Use the "cloudsql.googleapis.com/database/disk/bytes_used" metric in Cloud Monitoring API instead. Please see this announcement for details.
	CurrentDiskSize *string `pulumi:"currentDiskSize"`
	// The database engine type and version. The *databaseVersion* field cannot be changed after instance creation. MySQL instances: *MYSQL_8_0*, *MYSQL_5_7* (default), or *MYSQL_5_6*. PostgreSQL instances: *POSTGRES_9_6*, *POSTGRES_10*, *POSTGRES_11*, *POSTGRES_12*, or *POSTGRES_13* (default). SQL Server instances: *SQLSERVER_2017_STANDARD* (default), *SQLSERVER_2017_ENTERPRISE*, *SQLSERVER_2017_EXPRESS*, or *SQLSERVER_2017_WEB*.
	DatabaseVersion *string `pulumi:"databaseVersion"`
	// Disk encryption configuration specific to an instance. Applies only to Second Generation instances.
	DiskEncryptionConfiguration *DiskEncryptionConfiguration `pulumi:"diskEncryptionConfiguration"`
	// Disk encryption status specific to an instance. Applies only to Second Generation instances.
	DiskEncryptionStatus *DiskEncryptionStatus `pulumi:"diskEncryptionStatus"`
	// This field is deprecated and will be removed from a future version of the API. Use the *settings.settingsVersion* field instead.
	Etag *string `pulumi:"etag"`
	// The name and status of the failover replica. This property is applicable only to Second Generation instances.
	FailoverReplica map[string]string `pulumi:"failoverReplica"`
	// The Compute Engine zone that the instance is currently serving from. This value could be different from the zone that was specified when the instance was created if the instance has failed over to its secondary zone.
	GceZone *string `pulumi:"gceZone"`
	// The instance type. This can be one of the following. *CLOUD_SQL_INSTANCE*: A Cloud SQL instance that is not replicating from a primary instance. *ON_PREMISES_INSTANCE*: An instance running on the customer's premises. *READ_REPLICA_INSTANCE*: A Cloud SQL instance configured as a read-replica.
	InstanceType *string `pulumi:"instanceType"`
	// The assigned IP addresses for the instance.
	IpAddresses []IpMapping `pulumi:"ipAddresses"`
	// The IPv6 address assigned to the instance. (Deprecated) This property was applicable only to First Generation instances.
	Ipv6Address *string `pulumi:"ipv6Address"`
	// This is always *sql#instance*.
	Kind *string `pulumi:"kind"`
	// The name of the instance which will act as primary in the replication setup.
	MasterInstanceName *string `pulumi:"masterInstanceName"`
	// The maximum disk size of the instance in bytes.
	MaxDiskSize *string `pulumi:"maxDiskSize"`
	// Name of the Cloud SQL instance. This does not include the project ID.
	Name *string `pulumi:"name"`
	// Configuration specific to on-premises instances.
	OnPremisesConfiguration *OnPremisesConfiguration `pulumi:"onPremisesConfiguration"`
	// The project ID of the project containing the Cloud SQL instance. The Google apps domain is prefixed if applicable.
	Project string `pulumi:"project"`
	// The geographical region. Can be *us-central* (*FIRST_GEN* instances only) *us-central1* (*SECOND_GEN* instances only) *asia-east1* or *europe-west1*. Defaults to *us-central* or *us-central1* depending on the instance type. The region cannot be changed after instance creation.
	Region *string `pulumi:"region"`
	// Configuration specific to failover replicas and read replicas.
	ReplicaConfiguration *ReplicaConfiguration `pulumi:"replicaConfiguration"`
	// The replicas of the instance.
	ReplicaNames []string `pulumi:"replicaNames"`
	// Initial root password. Use only on creation.
	RootPassword *string `pulumi:"rootPassword"`
	// The status indicating if instance satisfiesPzs. Reserved for future use.
	SatisfiesPzs *bool `pulumi:"satisfiesPzs"`
	// The start time of any upcoming scheduled maintenance for this instance.
	ScheduledMaintenance *SqlScheduledMaintenance `pulumi:"scheduledMaintenance"`
	// The Compute Engine zone that the failover instance is currently serving from for a regional instance. This value could be different from the zone that was specified when the instance was created if the instance has failed over to its secondary/failover zone. Reserved for future use.
	SecondaryGceZone *string `pulumi:"secondaryGceZone"`
	// The URI of this resource.
	SelfLink *string `pulumi:"selfLink"`
	// SSL configuration.
	ServerCaCert *SslCert `pulumi:"serverCaCert"`
	// The service account email address assigned to the instance. This property is applicable only to Second Generation instances.
	ServiceAccountEmailAddress *string `pulumi:"serviceAccountEmailAddress"`
	// The user settings.
	Settings *Settings `pulumi:"settings"`
	// The current serving state of the Cloud SQL instance. This can be one of the following. *SQL_INSTANCE_STATE_UNSPECIFIED*: The state of the instance is unknown. *RUNNABLE*: The instance is running, or has been stopped by owner. *SUSPENDED*: The instance is not available, for example due to problems with billing. *PENDING_DELETE*: The instance is being deleted. *PENDING_CREATE*: The instance is being created. *MAINTENANCE*: The instance is down for maintenance. *FAILED*: The instance creation failed.
	State *string `pulumi:"state"`
	// If the instance state is SUSPENDED, the reason for the suspension.
	SuspensionReason []string `pulumi:"suspensionReason"`
}

// The set of arguments for constructing a DatabaseInstance resource.
type DatabaseInstanceArgs struct {
	//  *SECOND_GEN*: Cloud SQL database instance. *EXTERNAL*: A database server that is not managed by Google. This property is read-only; use the *tier* property in the *settings* object to determine the database type.
	BackendType pulumi.StringPtrInput
	// Connection name of the Cloud SQL instance used in connection strings.
	ConnectionName pulumi.StringPtrInput
	// The current disk usage of the instance in bytes. This property has been deprecated. Use the "cloudsql.googleapis.com/database/disk/bytes_used" metric in Cloud Monitoring API instead. Please see this announcement for details.
	CurrentDiskSize pulumi.StringPtrInput
	// The database engine type and version. The *databaseVersion* field cannot be changed after instance creation. MySQL instances: *MYSQL_8_0*, *MYSQL_5_7* (default), or *MYSQL_5_6*. PostgreSQL instances: *POSTGRES_9_6*, *POSTGRES_10*, *POSTGRES_11*, *POSTGRES_12*, or *POSTGRES_13* (default). SQL Server instances: *SQLSERVER_2017_STANDARD* (default), *SQLSERVER_2017_ENTERPRISE*, *SQLSERVER_2017_EXPRESS*, or *SQLSERVER_2017_WEB*.
	DatabaseVersion pulumi.StringPtrInput
	// Disk encryption configuration specific to an instance. Applies only to Second Generation instances.
	DiskEncryptionConfiguration DiskEncryptionConfigurationPtrInput
	// Disk encryption status specific to an instance. Applies only to Second Generation instances.
	DiskEncryptionStatus DiskEncryptionStatusPtrInput
	// This field is deprecated and will be removed from a future version of the API. Use the *settings.settingsVersion* field instead.
	Etag pulumi.StringPtrInput
	// The name and status of the failover replica. This property is applicable only to Second Generation instances.
	FailoverReplica pulumi.StringMapInput
	// The Compute Engine zone that the instance is currently serving from. This value could be different from the zone that was specified when the instance was created if the instance has failed over to its secondary zone.
	GceZone pulumi.StringPtrInput
	// The instance type. This can be one of the following. *CLOUD_SQL_INSTANCE*: A Cloud SQL instance that is not replicating from a primary instance. *ON_PREMISES_INSTANCE*: An instance running on the customer's premises. *READ_REPLICA_INSTANCE*: A Cloud SQL instance configured as a read-replica.
	InstanceType pulumi.StringPtrInput
	// The assigned IP addresses for the instance.
	IpAddresses IpMappingArrayInput
	// The IPv6 address assigned to the instance. (Deprecated) This property was applicable only to First Generation instances.
	Ipv6Address pulumi.StringPtrInput
	// This is always *sql#instance*.
	Kind pulumi.StringPtrInput
	// The name of the instance which will act as primary in the replication setup.
	MasterInstanceName pulumi.StringPtrInput
	// The maximum disk size of the instance in bytes.
	MaxDiskSize pulumi.StringPtrInput
	// Name of the Cloud SQL instance. This does not include the project ID.
	Name pulumi.StringPtrInput
	// Configuration specific to on-premises instances.
	OnPremisesConfiguration OnPremisesConfigurationPtrInput
	// The project ID of the project containing the Cloud SQL instance. The Google apps domain is prefixed if applicable.
	Project pulumi.StringInput
	// The geographical region. Can be *us-central* (*FIRST_GEN* instances only) *us-central1* (*SECOND_GEN* instances only) *asia-east1* or *europe-west1*. Defaults to *us-central* or *us-central1* depending on the instance type. The region cannot be changed after instance creation.
	Region pulumi.StringPtrInput
	// Configuration specific to failover replicas and read replicas.
	ReplicaConfiguration ReplicaConfigurationPtrInput
	// The replicas of the instance.
	ReplicaNames pulumi.StringArrayInput
	// Initial root password. Use only on creation.
	RootPassword pulumi.StringPtrInput
	// The status indicating if instance satisfiesPzs. Reserved for future use.
	SatisfiesPzs pulumi.BoolPtrInput
	// The start time of any upcoming scheduled maintenance for this instance.
	ScheduledMaintenance SqlScheduledMaintenancePtrInput
	// The Compute Engine zone that the failover instance is currently serving from for a regional instance. This value could be different from the zone that was specified when the instance was created if the instance has failed over to its secondary/failover zone. Reserved for future use.
	SecondaryGceZone pulumi.StringPtrInput
	// The URI of this resource.
	SelfLink pulumi.StringPtrInput
	// SSL configuration.
	ServerCaCert SslCertPtrInput
	// The service account email address assigned to the instance. This property is applicable only to Second Generation instances.
	ServiceAccountEmailAddress pulumi.StringPtrInput
	// The user settings.
	Settings SettingsPtrInput
	// The current serving state of the Cloud SQL instance. This can be one of the following. *SQL_INSTANCE_STATE_UNSPECIFIED*: The state of the instance is unknown. *RUNNABLE*: The instance is running, or has been stopped by owner. *SUSPENDED*: The instance is not available, for example due to problems with billing. *PENDING_DELETE*: The instance is being deleted. *PENDING_CREATE*: The instance is being created. *MAINTENANCE*: The instance is down for maintenance. *FAILED*: The instance creation failed.
	State pulumi.StringPtrInput
	// If the instance state is SUSPENDED, the reason for the suspension.
	SuspensionReason pulumi.StringArrayInput
}

func (DatabaseInstanceArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*databaseInstanceArgs)(nil)).Elem()
}

type DatabaseInstanceInput interface {
	pulumi.Input

	ToDatabaseInstanceOutput() DatabaseInstanceOutput
	ToDatabaseInstanceOutputWithContext(ctx context.Context) DatabaseInstanceOutput
}

func (*DatabaseInstance) ElementType() reflect.Type {
	return reflect.TypeOf((*DatabaseInstance)(nil))
}

func (i *DatabaseInstance) ToDatabaseInstanceOutput() DatabaseInstanceOutput {
	return i.ToDatabaseInstanceOutputWithContext(context.Background())
}

func (i *DatabaseInstance) ToDatabaseInstanceOutputWithContext(ctx context.Context) DatabaseInstanceOutput {
	return pulumi.ToOutputWithContext(ctx, i).(DatabaseInstanceOutput)
}

type DatabaseInstanceOutput struct {
	*pulumi.OutputState
}

func (DatabaseInstanceOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*DatabaseInstance)(nil))
}

func (o DatabaseInstanceOutput) ToDatabaseInstanceOutput() DatabaseInstanceOutput {
	return o
}

func (o DatabaseInstanceOutput) ToDatabaseInstanceOutputWithContext(ctx context.Context) DatabaseInstanceOutput {
	return o
}

func init() {
	pulumi.RegisterOutputType(DatabaseInstanceOutput{})
}
