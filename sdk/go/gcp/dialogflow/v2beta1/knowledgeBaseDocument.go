// *** WARNING: this file was generated by the Pulumi SDK Generator. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package v2beta1

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v2/go/pulumi"
)

// Creates a new document. Note: The `projects.agent.knowledgeBases.documents` resource is deprecated; only use `projects.knowledgeBases.documents`.
type KnowledgeBaseDocument struct {
	pulumi.CustomResourceState

	// The raw content of the document. This field is only permitted for EXTRACTIVE_QA and FAQ knowledge types. Note: This field is in the process of being deprecated, please use raw_content instead.
	Content pulumi.StringOutput `pulumi:"content"`
	// The URI where the file content is located. For documents stored in Google Cloud Storage, these URIs must have the form `gs:///`. NOTE: External URLs must correspond to public webpages, i.e., they must be indexed by Google Search. In particular, URLs for showing documents in Google Cloud Storage (i.e. the URL in your browser) are not supported. Instead use the `gs://` format URI described above.
	ContentUri pulumi.StringOutput `pulumi:"contentUri"`
	// Required. The display name of the document. The name must be 1024 bytes or less; otherwise, the creation request fails.
	DisplayName pulumi.StringOutput `pulumi:"displayName"`
	// Optional. If true, we try to automatically reload the document every day (at a time picked by the system). If false or unspecified, we don't try to automatically reload the document. Currently you can only enable automatic reload for documents sourced from a public url, see `source` field for the source types. Reload status can be tracked in `latest_reload_status`. If a reload fails, we will keep the document unchanged. If a reload fails with internal errors, the system will try to reload the document on the next day. If a reload fails with non-retriable errors (e.g. PERMISION_DENIED), the system will not try to reload the document anymore. You need to manually reload the document successfully by calling `ReloadDocument` and clear the errors.
	EnableAutoReload pulumi.BoolOutput `pulumi:"enableAutoReload"`
	// Required. The knowledge type of document content.
	KnowledgeTypes pulumi.StringArrayOutput `pulumi:"knowledgeTypes"`
	// The time and status of the latest reload. This reload may have been triggered automatically or manually and may not have succeeded.
	LatestReloadStatus GoogleCloudDialogflowV2beta1DocumentReloadStatusResponseOutput `pulumi:"latestReloadStatus"`
	// Optional. Metadata for the document. The metadata supports arbitrary key-value pairs. Suggested use cases include storing a document's title, an external URL distinct from the document's content_uri, etc. The max size of a `key` or a `value` of the metadata is 1024 bytes.
	Metadata pulumi.StringMapOutput `pulumi:"metadata"`
	// Required. The MIME type of this document.
	MimeType pulumi.StringOutput `pulumi:"mimeType"`
	// Optional. The document resource name. The name must be empty when creating a document. Format: `projects//locations//knowledgeBases//documents/`.
	Name pulumi.StringOutput `pulumi:"name"`
	// The raw content of the document. This field is only permitted for EXTRACTIVE_QA and FAQ knowledge types.
	RawContent pulumi.StringOutput `pulumi:"rawContent"`
}

// NewKnowledgeBaseDocument registers a new resource with the given unique name, arguments, and options.
func NewKnowledgeBaseDocument(ctx *pulumi.Context,
	name string, args *KnowledgeBaseDocumentArgs, opts ...pulumi.ResourceOption) (*KnowledgeBaseDocument, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.DocumentsId == nil {
		return nil, errors.New("invalid value for required argument 'DocumentsId'")
	}
	if args.KnowledgeBasesId == nil {
		return nil, errors.New("invalid value for required argument 'KnowledgeBasesId'")
	}
	if args.LocationsId == nil {
		return nil, errors.New("invalid value for required argument 'LocationsId'")
	}
	if args.ProjectsId == nil {
		return nil, errors.New("invalid value for required argument 'ProjectsId'")
	}
	var resource KnowledgeBaseDocument
	err := ctx.RegisterResource("gcp-native:dialogflow/v2beta1:KnowledgeBaseDocument", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetKnowledgeBaseDocument gets an existing KnowledgeBaseDocument resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetKnowledgeBaseDocument(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *KnowledgeBaseDocumentState, opts ...pulumi.ResourceOption) (*KnowledgeBaseDocument, error) {
	var resource KnowledgeBaseDocument
	err := ctx.ReadResource("gcp-native:dialogflow/v2beta1:KnowledgeBaseDocument", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering KnowledgeBaseDocument resources.
type knowledgeBaseDocumentState struct {
	// The raw content of the document. This field is only permitted for EXTRACTIVE_QA and FAQ knowledge types. Note: This field is in the process of being deprecated, please use raw_content instead.
	Content *string `pulumi:"content"`
	// The URI where the file content is located. For documents stored in Google Cloud Storage, these URIs must have the form `gs:///`. NOTE: External URLs must correspond to public webpages, i.e., they must be indexed by Google Search. In particular, URLs for showing documents in Google Cloud Storage (i.e. the URL in your browser) are not supported. Instead use the `gs://` format URI described above.
	ContentUri *string `pulumi:"contentUri"`
	// Required. The display name of the document. The name must be 1024 bytes or less; otherwise, the creation request fails.
	DisplayName *string `pulumi:"displayName"`
	// Optional. If true, we try to automatically reload the document every day (at a time picked by the system). If false or unspecified, we don't try to automatically reload the document. Currently you can only enable automatic reload for documents sourced from a public url, see `source` field for the source types. Reload status can be tracked in `latest_reload_status`. If a reload fails, we will keep the document unchanged. If a reload fails with internal errors, the system will try to reload the document on the next day. If a reload fails with non-retriable errors (e.g. PERMISION_DENIED), the system will not try to reload the document anymore. You need to manually reload the document successfully by calling `ReloadDocument` and clear the errors.
	EnableAutoReload *bool `pulumi:"enableAutoReload"`
	// Required. The knowledge type of document content.
	KnowledgeTypes []string `pulumi:"knowledgeTypes"`
	// The time and status of the latest reload. This reload may have been triggered automatically or manually and may not have succeeded.
	LatestReloadStatus *GoogleCloudDialogflowV2beta1DocumentReloadStatusResponse `pulumi:"latestReloadStatus"`
	// Optional. Metadata for the document. The metadata supports arbitrary key-value pairs. Suggested use cases include storing a document's title, an external URL distinct from the document's content_uri, etc. The max size of a `key` or a `value` of the metadata is 1024 bytes.
	Metadata map[string]string `pulumi:"metadata"`
	// Required. The MIME type of this document.
	MimeType *string `pulumi:"mimeType"`
	// Optional. The document resource name. The name must be empty when creating a document. Format: `projects//locations//knowledgeBases//documents/`.
	Name *string `pulumi:"name"`
	// The raw content of the document. This field is only permitted for EXTRACTIVE_QA and FAQ knowledge types.
	RawContent *string `pulumi:"rawContent"`
}

type KnowledgeBaseDocumentState struct {
	// The raw content of the document. This field is only permitted for EXTRACTIVE_QA and FAQ knowledge types. Note: This field is in the process of being deprecated, please use raw_content instead.
	Content pulumi.StringPtrInput
	// The URI where the file content is located. For documents stored in Google Cloud Storage, these URIs must have the form `gs:///`. NOTE: External URLs must correspond to public webpages, i.e., they must be indexed by Google Search. In particular, URLs for showing documents in Google Cloud Storage (i.e. the URL in your browser) are not supported. Instead use the `gs://` format URI described above.
	ContentUri pulumi.StringPtrInput
	// Required. The display name of the document. The name must be 1024 bytes or less; otherwise, the creation request fails.
	DisplayName pulumi.StringPtrInput
	// Optional. If true, we try to automatically reload the document every day (at a time picked by the system). If false or unspecified, we don't try to automatically reload the document. Currently you can only enable automatic reload for documents sourced from a public url, see `source` field for the source types. Reload status can be tracked in `latest_reload_status`. If a reload fails, we will keep the document unchanged. If a reload fails with internal errors, the system will try to reload the document on the next day. If a reload fails with non-retriable errors (e.g. PERMISION_DENIED), the system will not try to reload the document anymore. You need to manually reload the document successfully by calling `ReloadDocument` and clear the errors.
	EnableAutoReload pulumi.BoolPtrInput
	// Required. The knowledge type of document content.
	KnowledgeTypes pulumi.StringArrayInput
	// The time and status of the latest reload. This reload may have been triggered automatically or manually and may not have succeeded.
	LatestReloadStatus GoogleCloudDialogflowV2beta1DocumentReloadStatusResponsePtrInput
	// Optional. Metadata for the document. The metadata supports arbitrary key-value pairs. Suggested use cases include storing a document's title, an external URL distinct from the document's content_uri, etc. The max size of a `key` or a `value` of the metadata is 1024 bytes.
	Metadata pulumi.StringMapInput
	// Required. The MIME type of this document.
	MimeType pulumi.StringPtrInput
	// Optional. The document resource name. The name must be empty when creating a document. Format: `projects//locations//knowledgeBases//documents/`.
	Name pulumi.StringPtrInput
	// The raw content of the document. This field is only permitted for EXTRACTIVE_QA and FAQ knowledge types.
	RawContent pulumi.StringPtrInput
}

func (KnowledgeBaseDocumentState) ElementType() reflect.Type {
	return reflect.TypeOf((*knowledgeBaseDocumentState)(nil)).Elem()
}

type knowledgeBaseDocumentArgs struct {
	// The raw content of the document. This field is only permitted for EXTRACTIVE_QA and FAQ knowledge types. Note: This field is in the process of being deprecated, please use raw_content instead.
	Content *string `pulumi:"content"`
	// The URI where the file content is located. For documents stored in Google Cloud Storage, these URIs must have the form `gs:///`. NOTE: External URLs must correspond to public webpages, i.e., they must be indexed by Google Search. In particular, URLs for showing documents in Google Cloud Storage (i.e. the URL in your browser) are not supported. Instead use the `gs://` format URI described above.
	ContentUri *string `pulumi:"contentUri"`
	// Required. The display name of the document. The name must be 1024 bytes or less; otherwise, the creation request fails.
	DisplayName *string `pulumi:"displayName"`
	DocumentsId string  `pulumi:"documentsId"`
	// Optional. If true, we try to automatically reload the document every day (at a time picked by the system). If false or unspecified, we don't try to automatically reload the document. Currently you can only enable automatic reload for documents sourced from a public url, see `source` field for the source types. Reload status can be tracked in `latest_reload_status`. If a reload fails, we will keep the document unchanged. If a reload fails with internal errors, the system will try to reload the document on the next day. If a reload fails with non-retriable errors (e.g. PERMISION_DENIED), the system will not try to reload the document anymore. You need to manually reload the document successfully by calling `ReloadDocument` and clear the errors.
	EnableAutoReload *bool  `pulumi:"enableAutoReload"`
	KnowledgeBasesId string `pulumi:"knowledgeBasesId"`
	// Required. The knowledge type of document content.
	KnowledgeTypes []string `pulumi:"knowledgeTypes"`
	LocationsId    string   `pulumi:"locationsId"`
	// Optional. Metadata for the document. The metadata supports arbitrary key-value pairs. Suggested use cases include storing a document's title, an external URL distinct from the document's content_uri, etc. The max size of a `key` or a `value` of the metadata is 1024 bytes.
	Metadata map[string]string `pulumi:"metadata"`
	// Required. The MIME type of this document.
	MimeType *string `pulumi:"mimeType"`
	// Optional. The document resource name. The name must be empty when creating a document. Format: `projects//locations//knowledgeBases//documents/`.
	Name       *string `pulumi:"name"`
	ProjectsId string  `pulumi:"projectsId"`
	// The raw content of the document. This field is only permitted for EXTRACTIVE_QA and FAQ knowledge types.
	RawContent *string `pulumi:"rawContent"`
}

// The set of arguments for constructing a KnowledgeBaseDocument resource.
type KnowledgeBaseDocumentArgs struct {
	// The raw content of the document. This field is only permitted for EXTRACTIVE_QA and FAQ knowledge types. Note: This field is in the process of being deprecated, please use raw_content instead.
	Content pulumi.StringPtrInput
	// The URI where the file content is located. For documents stored in Google Cloud Storage, these URIs must have the form `gs:///`. NOTE: External URLs must correspond to public webpages, i.e., they must be indexed by Google Search. In particular, URLs for showing documents in Google Cloud Storage (i.e. the URL in your browser) are not supported. Instead use the `gs://` format URI described above.
	ContentUri pulumi.StringPtrInput
	// Required. The display name of the document. The name must be 1024 bytes or less; otherwise, the creation request fails.
	DisplayName pulumi.StringPtrInput
	DocumentsId pulumi.StringInput
	// Optional. If true, we try to automatically reload the document every day (at a time picked by the system). If false or unspecified, we don't try to automatically reload the document. Currently you can only enable automatic reload for documents sourced from a public url, see `source` field for the source types. Reload status can be tracked in `latest_reload_status`. If a reload fails, we will keep the document unchanged. If a reload fails with internal errors, the system will try to reload the document on the next day. If a reload fails with non-retriable errors (e.g. PERMISION_DENIED), the system will not try to reload the document anymore. You need to manually reload the document successfully by calling `ReloadDocument` and clear the errors.
	EnableAutoReload pulumi.BoolPtrInput
	KnowledgeBasesId pulumi.StringInput
	// Required. The knowledge type of document content.
	KnowledgeTypes pulumi.StringArrayInput
	LocationsId    pulumi.StringInput
	// Optional. Metadata for the document. The metadata supports arbitrary key-value pairs. Suggested use cases include storing a document's title, an external URL distinct from the document's content_uri, etc. The max size of a `key` or a `value` of the metadata is 1024 bytes.
	Metadata pulumi.StringMapInput
	// Required. The MIME type of this document.
	MimeType pulumi.StringPtrInput
	// Optional. The document resource name. The name must be empty when creating a document. Format: `projects//locations//knowledgeBases//documents/`.
	Name       pulumi.StringPtrInput
	ProjectsId pulumi.StringInput
	// The raw content of the document. This field is only permitted for EXTRACTIVE_QA and FAQ knowledge types.
	RawContent pulumi.StringPtrInput
}

func (KnowledgeBaseDocumentArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*knowledgeBaseDocumentArgs)(nil)).Elem()
}

type KnowledgeBaseDocumentInput interface {
	pulumi.Input

	ToKnowledgeBaseDocumentOutput() KnowledgeBaseDocumentOutput
	ToKnowledgeBaseDocumentOutputWithContext(ctx context.Context) KnowledgeBaseDocumentOutput
}

func (*KnowledgeBaseDocument) ElementType() reflect.Type {
	return reflect.TypeOf((*KnowledgeBaseDocument)(nil))
}

func (i *KnowledgeBaseDocument) ToKnowledgeBaseDocumentOutput() KnowledgeBaseDocumentOutput {
	return i.ToKnowledgeBaseDocumentOutputWithContext(context.Background())
}

func (i *KnowledgeBaseDocument) ToKnowledgeBaseDocumentOutputWithContext(ctx context.Context) KnowledgeBaseDocumentOutput {
	return pulumi.ToOutputWithContext(ctx, i).(KnowledgeBaseDocumentOutput)
}

type KnowledgeBaseDocumentOutput struct {
	*pulumi.OutputState
}

func (KnowledgeBaseDocumentOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*KnowledgeBaseDocument)(nil))
}

func (o KnowledgeBaseDocumentOutput) ToKnowledgeBaseDocumentOutput() KnowledgeBaseDocumentOutput {
	return o
}

func (o KnowledgeBaseDocumentOutput) ToKnowledgeBaseDocumentOutputWithContext(ctx context.Context) KnowledgeBaseDocumentOutput {
	return o
}

func init() {
	pulumi.RegisterOutputType(KnowledgeBaseDocumentOutput{})
}
