// *** WARNING: this file was generated by the Pulumi SDK Generator. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package v1beta1

import (
	"context"
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Create a new CertificateAuthority in a given Project and Location.
type CertificateAuthority struct {
	pulumi.CustomResourceState

	// URLs for accessing content published by this CA, such as the CA certificate and CRLs.
	AccessUrls AccessUrlsResponseOutput `pulumi:"accessUrls"`
	// A structured description of this CertificateAuthority's CA certificate and its issuers. Ordered as self-to-root.
	CaCertificateDescriptions CertificateDescriptionResponseArrayOutput `pulumi:"caCertificateDescriptions"`
	// Optional. The CertificateAuthorityPolicy to enforce when issuing Certificates from this CertificateAuthority.
	CertificatePolicy CertificateAuthorityPolicyResponseOutput `pulumi:"certificatePolicy"`
	// Required. Immutable. The config used to create a self-signed X.509 certificate or CSR.
	Config CertificateConfigResponseOutput `pulumi:"config"`
	// The time at which this CertificateAuthority was created.
	CreateTime pulumi.StringOutput `pulumi:"createTime"`
	// The time at which this CertificateAuthority will be deleted, if scheduled for deletion.
	DeleteTime pulumi.StringOutput `pulumi:"deleteTime"`
	// Immutable. The name of a Cloud Storage bucket where this CertificateAuthority will publish content, such as the CA certificate and CRLs. This must be a bucket name, without any prefixes (such as `gs://`) or suffixes (such as `.googleapis.com`). For example, to use a bucket named `my-bucket`, you would simply specify `my-bucket`. If not specified, a managed bucket will be created.
	GcsBucket pulumi.StringOutput `pulumi:"gcsBucket"`
	// Optional. The IssuingOptions to follow when issuing Certificates from this CertificateAuthority.
	IssuingOptions IssuingOptionsResponseOutput `pulumi:"issuingOptions"`
	// Required. Immutable. Used when issuing certificates for this CertificateAuthority. If this CertificateAuthority is a self-signed CertificateAuthority, this key is also used to sign the self-signed CA certificate. Otherwise, it is used to sign a CSR.
	KeySpec KeyVersionSpecResponseOutput `pulumi:"keySpec"`
	// Optional. Labels with user-defined metadata.
	Labels pulumi.StringMapOutput `pulumi:"labels"`
	// Required. The desired lifetime of the CA certificate. Used to create the "not_before_time" and "not_after_time" fields inside an X.509 certificate.
	Lifetime pulumi.StringOutput `pulumi:"lifetime"`
	// The resource name for this CertificateAuthority in the format `projects/*/locations/*/certificateAuthorities/*`.
	Name pulumi.StringOutput `pulumi:"name"`
	// This CertificateAuthority's certificate chain, including the current CertificateAuthority's certificate. Ordered such that the root issuer is the final element (consistent with RFC 5246). For a self-signed CA, this will only list the current CertificateAuthority's certificate.
	PemCaCertificates pulumi.StringArrayOutput `pulumi:"pemCaCertificates"`
	// The State for this CertificateAuthority.
	State pulumi.StringOutput `pulumi:"state"`
	// Optional. If this is a subordinate CertificateAuthority, this field will be set with the subordinate configuration, which describes its issuers. This may be updated, but this CertificateAuthority must continue to validate.
	SubordinateConfig SubordinateConfigResponseOutput `pulumi:"subordinateConfig"`
	// Required. Immutable. The Tier of this CertificateAuthority.
	Tier pulumi.StringOutput `pulumi:"tier"`
	// Required. Immutable. The Type of this CertificateAuthority.
	Type pulumi.StringOutput `pulumi:"type"`
	// The time at which this CertificateAuthority was updated.
	UpdateTime pulumi.StringOutput `pulumi:"updateTime"`
}

// NewCertificateAuthority registers a new resource with the given unique name, arguments, and options.
func NewCertificateAuthority(ctx *pulumi.Context,
	name string, args *CertificateAuthorityArgs, opts ...pulumi.ResourceOption) (*CertificateAuthority, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.CertificateAuthoritiesId == nil {
		return nil, errors.New("invalid value for required argument 'CertificateAuthoritiesId'")
	}
	if args.LocationsId == nil {
		return nil, errors.New("invalid value for required argument 'LocationsId'")
	}
	if args.ProjectsId == nil {
		return nil, errors.New("invalid value for required argument 'ProjectsId'")
	}
	var resource CertificateAuthority
	err := ctx.RegisterResource("gcp-native:privateca/v1beta1:CertificateAuthority", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetCertificateAuthority gets an existing CertificateAuthority resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetCertificateAuthority(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *CertificateAuthorityState, opts ...pulumi.ResourceOption) (*CertificateAuthority, error) {
	var resource CertificateAuthority
	err := ctx.ReadResource("gcp-native:privateca/v1beta1:CertificateAuthority", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering CertificateAuthority resources.
type certificateAuthorityState struct {
	// URLs for accessing content published by this CA, such as the CA certificate and CRLs.
	AccessUrls *AccessUrlsResponse `pulumi:"accessUrls"`
	// A structured description of this CertificateAuthority's CA certificate and its issuers. Ordered as self-to-root.
	CaCertificateDescriptions []CertificateDescriptionResponse `pulumi:"caCertificateDescriptions"`
	// Optional. The CertificateAuthorityPolicy to enforce when issuing Certificates from this CertificateAuthority.
	CertificatePolicy *CertificateAuthorityPolicyResponse `pulumi:"certificatePolicy"`
	// Required. Immutable. The config used to create a self-signed X.509 certificate or CSR.
	Config *CertificateConfigResponse `pulumi:"config"`
	// The time at which this CertificateAuthority was created.
	CreateTime *string `pulumi:"createTime"`
	// The time at which this CertificateAuthority will be deleted, if scheduled for deletion.
	DeleteTime *string `pulumi:"deleteTime"`
	// Immutable. The name of a Cloud Storage bucket where this CertificateAuthority will publish content, such as the CA certificate and CRLs. This must be a bucket name, without any prefixes (such as `gs://`) or suffixes (such as `.googleapis.com`). For example, to use a bucket named `my-bucket`, you would simply specify `my-bucket`. If not specified, a managed bucket will be created.
	GcsBucket *string `pulumi:"gcsBucket"`
	// Optional. The IssuingOptions to follow when issuing Certificates from this CertificateAuthority.
	IssuingOptions *IssuingOptionsResponse `pulumi:"issuingOptions"`
	// Required. Immutable. Used when issuing certificates for this CertificateAuthority. If this CertificateAuthority is a self-signed CertificateAuthority, this key is also used to sign the self-signed CA certificate. Otherwise, it is used to sign a CSR.
	KeySpec *KeyVersionSpecResponse `pulumi:"keySpec"`
	// Optional. Labels with user-defined metadata.
	Labels map[string]string `pulumi:"labels"`
	// Required. The desired lifetime of the CA certificate. Used to create the "not_before_time" and "not_after_time" fields inside an X.509 certificate.
	Lifetime *string `pulumi:"lifetime"`
	// The resource name for this CertificateAuthority in the format `projects/*/locations/*/certificateAuthorities/*`.
	Name *string `pulumi:"name"`
	// This CertificateAuthority's certificate chain, including the current CertificateAuthority's certificate. Ordered such that the root issuer is the final element (consistent with RFC 5246). For a self-signed CA, this will only list the current CertificateAuthority's certificate.
	PemCaCertificates []string `pulumi:"pemCaCertificates"`
	// The State for this CertificateAuthority.
	State *string `pulumi:"state"`
	// Optional. If this is a subordinate CertificateAuthority, this field will be set with the subordinate configuration, which describes its issuers. This may be updated, but this CertificateAuthority must continue to validate.
	SubordinateConfig *SubordinateConfigResponse `pulumi:"subordinateConfig"`
	// Required. Immutable. The Tier of this CertificateAuthority.
	Tier *string `pulumi:"tier"`
	// Required. Immutable. The Type of this CertificateAuthority.
	Type *string `pulumi:"type"`
	// The time at which this CertificateAuthority was updated.
	UpdateTime *string `pulumi:"updateTime"`
}

type CertificateAuthorityState struct {
	// URLs for accessing content published by this CA, such as the CA certificate and CRLs.
	AccessUrls AccessUrlsResponsePtrInput
	// A structured description of this CertificateAuthority's CA certificate and its issuers. Ordered as self-to-root.
	CaCertificateDescriptions CertificateDescriptionResponseArrayInput
	// Optional. The CertificateAuthorityPolicy to enforce when issuing Certificates from this CertificateAuthority.
	CertificatePolicy CertificateAuthorityPolicyResponsePtrInput
	// Required. Immutable. The config used to create a self-signed X.509 certificate or CSR.
	Config CertificateConfigResponsePtrInput
	// The time at which this CertificateAuthority was created.
	CreateTime pulumi.StringPtrInput
	// The time at which this CertificateAuthority will be deleted, if scheduled for deletion.
	DeleteTime pulumi.StringPtrInput
	// Immutable. The name of a Cloud Storage bucket where this CertificateAuthority will publish content, such as the CA certificate and CRLs. This must be a bucket name, without any prefixes (such as `gs://`) or suffixes (such as `.googleapis.com`). For example, to use a bucket named `my-bucket`, you would simply specify `my-bucket`. If not specified, a managed bucket will be created.
	GcsBucket pulumi.StringPtrInput
	// Optional. The IssuingOptions to follow when issuing Certificates from this CertificateAuthority.
	IssuingOptions IssuingOptionsResponsePtrInput
	// Required. Immutable. Used when issuing certificates for this CertificateAuthority. If this CertificateAuthority is a self-signed CertificateAuthority, this key is also used to sign the self-signed CA certificate. Otherwise, it is used to sign a CSR.
	KeySpec KeyVersionSpecResponsePtrInput
	// Optional. Labels with user-defined metadata.
	Labels pulumi.StringMapInput
	// Required. The desired lifetime of the CA certificate. Used to create the "not_before_time" and "not_after_time" fields inside an X.509 certificate.
	Lifetime pulumi.StringPtrInput
	// The resource name for this CertificateAuthority in the format `projects/*/locations/*/certificateAuthorities/*`.
	Name pulumi.StringPtrInput
	// This CertificateAuthority's certificate chain, including the current CertificateAuthority's certificate. Ordered such that the root issuer is the final element (consistent with RFC 5246). For a self-signed CA, this will only list the current CertificateAuthority's certificate.
	PemCaCertificates pulumi.StringArrayInput
	// The State for this CertificateAuthority.
	State pulumi.StringPtrInput
	// Optional. If this is a subordinate CertificateAuthority, this field will be set with the subordinate configuration, which describes its issuers. This may be updated, but this CertificateAuthority must continue to validate.
	SubordinateConfig SubordinateConfigResponsePtrInput
	// Required. Immutable. The Tier of this CertificateAuthority.
	Tier pulumi.StringPtrInput
	// Required. Immutable. The Type of this CertificateAuthority.
	Type pulumi.StringPtrInput
	// The time at which this CertificateAuthority was updated.
	UpdateTime pulumi.StringPtrInput
}

func (CertificateAuthorityState) ElementType() reflect.Type {
	return reflect.TypeOf((*certificateAuthorityState)(nil)).Elem()
}

type certificateAuthorityArgs struct {
	CertificateAuthoritiesId string `pulumi:"certificateAuthoritiesId"`
	// Optional. The CertificateAuthorityPolicy to enforce when issuing Certificates from this CertificateAuthority.
	CertificatePolicy *CertificateAuthorityPolicy `pulumi:"certificatePolicy"`
	// Required. Immutable. The config used to create a self-signed X.509 certificate or CSR.
	Config *CertificateConfig `pulumi:"config"`
	// Immutable. The name of a Cloud Storage bucket where this CertificateAuthority will publish content, such as the CA certificate and CRLs. This must be a bucket name, without any prefixes (such as `gs://`) or suffixes (such as `.googleapis.com`). For example, to use a bucket named `my-bucket`, you would simply specify `my-bucket`. If not specified, a managed bucket will be created.
	GcsBucket *string `pulumi:"gcsBucket"`
	// Optional. The IssuingOptions to follow when issuing Certificates from this CertificateAuthority.
	IssuingOptions *IssuingOptions `pulumi:"issuingOptions"`
	// Required. Immutable. Used when issuing certificates for this CertificateAuthority. If this CertificateAuthority is a self-signed CertificateAuthority, this key is also used to sign the self-signed CA certificate. Otherwise, it is used to sign a CSR.
	KeySpec *KeyVersionSpec `pulumi:"keySpec"`
	// Optional. Labels with user-defined metadata.
	Labels map[string]string `pulumi:"labels"`
	// Required. The desired lifetime of the CA certificate. Used to create the "not_before_time" and "not_after_time" fields inside an X.509 certificate.
	Lifetime    *string `pulumi:"lifetime"`
	LocationsId string  `pulumi:"locationsId"`
	ProjectsId  string  `pulumi:"projectsId"`
	// Optional. If this is a subordinate CertificateAuthority, this field will be set with the subordinate configuration, which describes its issuers. This may be updated, but this CertificateAuthority must continue to validate.
	SubordinateConfig *SubordinateConfig `pulumi:"subordinateConfig"`
	// Required. Immutable. The Tier of this CertificateAuthority.
	Tier *string `pulumi:"tier"`
	// Required. Immutable. The Type of this CertificateAuthority.
	Type *string `pulumi:"type"`
}

// The set of arguments for constructing a CertificateAuthority resource.
type CertificateAuthorityArgs struct {
	CertificateAuthoritiesId pulumi.StringInput
	// Optional. The CertificateAuthorityPolicy to enforce when issuing Certificates from this CertificateAuthority.
	CertificatePolicy CertificateAuthorityPolicyPtrInput
	// Required. Immutable. The config used to create a self-signed X.509 certificate or CSR.
	Config CertificateConfigPtrInput
	// Immutable. The name of a Cloud Storage bucket where this CertificateAuthority will publish content, such as the CA certificate and CRLs. This must be a bucket name, without any prefixes (such as `gs://`) or suffixes (such as `.googleapis.com`). For example, to use a bucket named `my-bucket`, you would simply specify `my-bucket`. If not specified, a managed bucket will be created.
	GcsBucket pulumi.StringPtrInput
	// Optional. The IssuingOptions to follow when issuing Certificates from this CertificateAuthority.
	IssuingOptions IssuingOptionsPtrInput
	// Required. Immutable. Used when issuing certificates for this CertificateAuthority. If this CertificateAuthority is a self-signed CertificateAuthority, this key is also used to sign the self-signed CA certificate. Otherwise, it is used to sign a CSR.
	KeySpec KeyVersionSpecPtrInput
	// Optional. Labels with user-defined metadata.
	Labels pulumi.StringMapInput
	// Required. The desired lifetime of the CA certificate. Used to create the "not_before_time" and "not_after_time" fields inside an X.509 certificate.
	Lifetime    pulumi.StringPtrInput
	LocationsId pulumi.StringInput
	ProjectsId  pulumi.StringInput
	// Optional. If this is a subordinate CertificateAuthority, this field will be set with the subordinate configuration, which describes its issuers. This may be updated, but this CertificateAuthority must continue to validate.
	SubordinateConfig SubordinateConfigPtrInput
	// Required. Immutable. The Tier of this CertificateAuthority.
	Tier pulumi.StringPtrInput
	// Required. Immutable. The Type of this CertificateAuthority.
	Type pulumi.StringPtrInput
}

func (CertificateAuthorityArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*certificateAuthorityArgs)(nil)).Elem()
}

type CertificateAuthorityInput interface {
	pulumi.Input

	ToCertificateAuthorityOutput() CertificateAuthorityOutput
	ToCertificateAuthorityOutputWithContext(ctx context.Context) CertificateAuthorityOutput
}

func (*CertificateAuthority) ElementType() reflect.Type {
	return reflect.TypeOf((*CertificateAuthority)(nil))
}

func (i *CertificateAuthority) ToCertificateAuthorityOutput() CertificateAuthorityOutput {
	return i.ToCertificateAuthorityOutputWithContext(context.Background())
}

func (i *CertificateAuthority) ToCertificateAuthorityOutputWithContext(ctx context.Context) CertificateAuthorityOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CertificateAuthorityOutput)
}

type CertificateAuthorityOutput struct {
	*pulumi.OutputState
}

func (CertificateAuthorityOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*CertificateAuthority)(nil))
}

func (o CertificateAuthorityOutput) ToCertificateAuthorityOutput() CertificateAuthorityOutput {
	return o
}

func (o CertificateAuthorityOutput) ToCertificateAuthorityOutputWithContext(ctx context.Context) CertificateAuthorityOutput {
	return o
}

func init() {
	pulumi.RegisterOutputType(CertificateAuthorityOutput{})
}
